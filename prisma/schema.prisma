generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Admin {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String
  role      String   @default("admin")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Pensioner {
  id                     String     @id @default(cuid())
  pensionId              String     @unique
  fullName               String
  nin                    String     @unique
  dateOfBirth            DateTime
  gender                 String
  email                  String     @unique
  phone                  String
  residentialAddress     String
  pensionSchemeType      String
  dateOfFirstAppointment DateTime
  dateOfRetirement       DateTime
  pfNumber               String     @unique
  lastPromotionDate      DateTime
  currentLevel           String
  salary                 Float
  expectedRetirementDate DateTime
  maidenName             String?
  password               String
  status                 String     @default("PENDING_VERIFICATION")
  createdAt              DateTime   @default(now())
  updatedAt              DateTime   @updatedAt
  gratuityRate           Float?
  monthlyPension         Float?
  pensionRate            Float?
  totalGratuity          Float?
  yearsOfService         Int?
  documents              Document[]
}

model Document {
  id           String    @id @default(cuid())
  pensionerId  String
  documentType String
  fileName     String
  filePath     String
  uploadedAt   DateTime  @default(now())
  verifiedAt   DateTime?
  status       String    @default("pending")
  pensioner    Pensioner @relation(fields: [pensionerId], references: [id])
}
